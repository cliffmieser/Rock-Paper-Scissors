<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        const min = 1;
        const max = 3;
        let playerWins = 0;
        let computerWins = 0;

        let roundWin = false;
        let roundLoss = true;
        let ties = 0;



        function getChoice(min, max){ 
            //Gets random number between 1 and 3
            let result = Math.floor(Math.random() * (max - min + 1) + min);
            return result;
        }

        function computerPlay(){
            //Randomly returns 'rock', 'paper', or 'scissors'
            let choice = getChoice(min, max);
            let compChoice;
            if (choice == 1){
                return compChoice = 'rock';
            } else if (choice == 2){
                return compChoice = 'paper';
            } else {
                return compChoice = 'scissors';
            }
        }

        function playRound(playerSelection, computerSelection){
            //Plays a round of Rock Paper Scissors
            //returns a string that declares winner of round
            playerSelection = playerSelection.toLowerCase();
            if (playerSelection == computerSelection){
                getScore(roundWin, roundLoss);
                console.log("It's a tie!");
                // ties += 1;
            } else if (playerSelection == 'rock' && computerSelection == 'scissors'){
                getScore(roundWin = true);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                // playerWins += 1;
                
            } else if (playerSelection == 'paper' && computerSelection == 'rock'){
                getScore(roundWin = true)
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                // playerWins += 1;
            } else if (playerSelection == 'scissors' && computerSelection == 'paper'){
                getScore(roundWin = true);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                // playerWins += 1;
            } else {
                getScore(roundWin = false, roundLoss = true);
                console.log(`You lose! ${computerSelection} beats ${playerSelection}`)
                // computerWins += 1;
            }

        }

        function getScore(roundWin, roundLoss){
            //keeps score of the game
            if (roundWin == true && roundLoss == false){
                playerWins += 1;
            } else if (roundWin == false && roundLoss == true){
                computerWins += 1;
            } else {
                ties += 1
            }
        }

        function displayScore(playerWins, computerWins, ties){
            //Displays score and winner and loser of game
            console.log(`\nPlayer wins: ${playerWins}`);
            console.log(`Computer wins: ${computerWins}`);
            console.log(`ties: ${ties}\n`);

            if (playerWins > computerWins){
                console.log(`\n\nPlayer, you are the winner!`)
            } else if (playerWins < computerWins){
                console.log(`\n\nComputer, you are the winner!\nSorry player, you lost.`)
            } else if (playerWins == computerWins){
                console.log(`\n\nTied game! No winner.`)
            }
            
        }

        function game(rounds =  5){
            //Plays a 5 round game of rock paper scissors
            for (let i = 0; i < rounds; i++){
                playRound(playerSelection, computerSelection)
            }
        }

        let playerSelection  = 'paper';
        let computerSelection = computerPlay();
        game();
        console.log("Here is the score: ");
        displayScore(playerWins, computerWins, ties);

        /*All wins go towards computer or ties*/

    </script>
    
</body>
</html>