<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <main>
        <button class="rock-btn playerSelect-btn">Rock</button>
        <button class="paper-btn playerSelect-btn">Paper</button>
        <button class="scissors-btn playerSelect-btn">Scissors</button>

    </main>



    <script>

        function getPlayerChoice(){ 
            //Gets random number between 1 and 3  ++
/*             let result = Math.floor(Math.random() * (max - min + 1) + min);
            return result;  */
            
            let playerChoice;
            let choice = prompt("Choose a number between 1 and 3: ", "");
            if (choice == 1){
                return playerChoice = 'rock';
            } else if (choice == 2){
                return playerChoice = 'paper';
            } else if (choice == 3){
                return playerChoice = 'scissors';
            }
        } 

        function computerPlay(){
            //Randomly returns 'rock', 'paper', or 'scissors'  ++
            /* let choice = getChoice(min, max); */
            let choice = Math.floor(Math.random() * (max - min + 1) + min);
            let compChoice;
            if (choice == 1){
                return compChoice = 'rock';
            } else if (choice == 2){
                return compChoice = 'paper';
            } else {
                return compChoice = 'scissors';
            }
        }

        function playRound(playerSelection, computerSelection){
            //Plays a round of Rock Paper Scissors
            //returns a string that declares winner of round
            playerSelection = playerSelection.toLowerCase();
            if (playerSelection == computerSelection){
                getScore(roundWin = false, roundLoss = false);
                console.log("It's a tie!");
                return;
                // ties += 1;
            } else if (playerSelection == 'rock' && computerSelection == 'scissors'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
                
            } else if (playerSelection == 'paper' && computerSelection == 'rock'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
            } else if (playerSelection == 'scissors' && computerSelection == 'paper'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
            } else {
                getScore(roundWin = false, roundLoss = true);
                console.log(`You lose! ${computerSelection} beats ${playerSelection}`)
                return;
                // computerWins += 1;
            }

        }

        function getScore(roundWin = false, roundLoss = false){
            //keeps score of the game
            if (roundWin == true && roundLoss == false){
                playerWins += 1;
                return;
            } else if (roundWin == false && roundLoss == true){
                computerWins += 1;
                return;
            } else {
                ties += 1;
                return;
            }
        }

        function displayScore(playerWins, computerWins, ties){
            //Displays score and winner and loser of game
            console.log(`\nPlayer wins: ${playerWins}`);
            console.log(`Computer wins: ${computerWins}`);
            console.log(`ties: ${ties}\n`);

            if (playerWins > computerWins){
                console.log(`\n\nPlayer, you are the winner!`);
            } else if (playerWins < computerWins){
                console.log(`\n\nComputer, you are the winner!\nSorry player, you lost.`);
            } else if (playerWins == computerWins){
                console.log(`\n\nTied game! No winner.`);
            }     
        }

        function restartScore(){
            //resets scoreboard after each run
            playerWins = 0;
            computerWins = 0;
            ties = 0;

        }

        function game(rounds = 1){
            //Plays a 5 round game of rock paper scissors
            //Displays scoreboard after round
          restartScore();
          for (i = 0; i < rounds; i++){
          	playerSelection = getPlayerChoice();
            let computerSelection = computerPlay();
            playRound(playerSelection, computerSelection);      	
          }
          console.log("Here is the score: ");
          displayScore(playerWins, computerWins, ties);              		           

        }

        
        const btn = document.querySelector(".rock-btn");
        btn.addEventListener('click', () => {
            alert(playerSelection);
        });

        
        //values for choosing between R,P or S
        const min = 1;
        const max = 3;

        let playerWins = 0;
        let computerWins = 0;
        let ties = 0;

        //bool values to determine win or loss
        let roundWin = false;
        let roundLoss = false;
        
        let playerSelection;//ask for player selection 
        
        //for automated playing
       //let playerSelection = Math.floor(Math.random() * (max - min + 1) + min);  

        game();

        
    </script>
    
</body>
</html>