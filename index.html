<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        const min = 1;
        const max = 3;

        let playerWins = 0;
        let computerWins = 0;
        let ties = 0;

        let roundWin = false;
        let roundLoss = false;



        function getChoice(min, max){ 
            //Gets random number between 1 and 3 //no error
            let result = Math.floor(Math.random() * (max - min + 1) + min);
            return result; 
        }

        function computerPlay(){
            //Randomly returns 'rock', 'paper', or 'scissors' //no error
            let choice = getChoice(min, max);
            let compChoice;
            if (choice == 1){
                return compChoice = 'rock';
            } else if (choice == 2){
                return compChoice = 'paper';
            } else {
                return compChoice = 'scissors';
            }
        }

        function playRound(playerSelection, computerSelection){
            //Plays a round of Rock Paper Scissors
            //returns a string that declares winner of round

            /* ERROR HERE: investigate 'console.log(playRound(playerSelection, computerSelection))' in console */
            playerSelection = playerSelection.toLowerCase();
            if (playerSelection == computerSelection){
                getScore(roundWin = false, roundLoss = false);
                console.log("It's a tie!");
                return;
                // ties += 1;
            } else if (playerSelection == 'rock' && computerSelection == 'scissors'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
                
            } else if (playerSelection == 'paper' && computerSelection == 'rock'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
            } else if (playerSelection == 'scissors' && computerSelection == 'paper'){
                getScore(roundWin = true, roundLoss = false);
                console.log(`You win! ${playerSelection} beats ${computerSelection}`)
                return;
                // playerWins += 1;
            } else {
                getScore(roundWin = false, roundLoss = true);
                console.log(`You lose! ${computerSelection} beats ${playerSelection}`)
                return;
                // computerWins += 1;
            }

        }

        function getScore(roundWin = false, roundLoss = false){
            //keeps score of the game //no errors
            if (roundWin == true && roundLoss == false){
                playerWins += 1;
                return;
            } else if (roundWin == false && roundLoss == true){
                computerWins += 1;
                return;
            } else {
                ties += 1
                return;
            }
        }

        function displayScore(playerWins, computerWins, ties){
            //Displays score and winner and loser of game
            console.log(`\nPlayer wins: ${playerWins}`);
            console.log(`Computer wins: ${computerWins}`);
            console.log(`ties: ${ties}\n`);

            if (playerWins > computerWins){
                console.log(`\n\nPlayer, you are the winner!`)
            } else if (playerWins < computerWins){
                console.log(`\n\nComputer, you are the winner!\nSorry player, you lost.`)
            } else if (playerWins == computerWins){
                console.log(`\n\nTied game! No winner.`)
            }
            
        }

        function game(rounds = 5){
            //Plays a 5 round game of rock paper scissors
            for (i = 0; i <= rounds; i++){
                playRound(playerSelection, computerSelection)
            }
            return;
            
        }

        let playerSelection  = 'rock';
        let computerSelection = computerPlay();
        game();
        console.log("Here is the score: ");
        displayScore(playerWins, computerWins, ties);

    </script>
    
</body>
</html>